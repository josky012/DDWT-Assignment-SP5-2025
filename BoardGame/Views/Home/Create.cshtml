@using WebMatrix.Data;

@{
    var db = Database.Open("BoardGame");

    var Name = Request["Name"];
    var Description = Request["Description"];
    var YearPublished = Request["YearPublished"];
    var MinPlayers = Request["MinPlayers"];
    var MaxPlayers = Request["MaxPlayers"];
    var MfgPlayTime = Request["MfgPlayTime"];
    var ComMinPlayTime = Request["ComMinPlayTime"];
    var ComMaxPlayTime = Request["ComMaxPlayTime"];
    var Family = Request["Family"];
    var ImagePath = Request["ImagePath"];

    if (IsPost)
    {
        var insertSql =
            "INSERT INTO BoardGame " +
            "(Name, Description, YearPublished, MinPlayers, MaxPlayers, " +
            " MfgPlayTime, ComMinPlayTime, ComMaxPlayTime, Family, imagePath) " +
            "VALUES (@0,@1,@2,@3,@4,@5,@6,@7,@8,@9)";
        db.Execute(insertSql,
            Name, Description, YearPublished, MinPlayers, MaxPlayers,
            MfgPlayTime, ComMinPlayTime, ComMaxPlayTime, Family, ImagePath);

        Response.Redirect("/Views/Home/Index.cshtml");
    }
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Add Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="p-3">
    <div class="container">
        <h2>Add a New Game</h2>

        <form method="post">
            <label class="form-label">Name</label>
            <input class="form-control mb-2" name="Name" value="@Name" />

            <label class="form-label">Year Published</label>
            <input class="form-control mb-2" type="number" name="YearPublished" value="@YearPublished" />

            <label class="form-label">Min Players</label>
            <input class="form-control mb-2" type="number" name="MinPlayers" value="@MinPlayers" />

            <label class="form-label">Max Players</label>
            <input class="form-control mb-2" type="number" name="MaxPlayers" value="@MaxPlayers" />

            <label class="form-label">Mfg Play Time</label>
            <input class="form-control mb-2" type="number" name="MfgPlayTime" value="@MfgPlayTime" />

            <label class="form-label">Com Min Play Time</label>
            <input class="form-control mb-2" type="number" name="ComMinPlayTime" value="@ComMinPlayTime" />

            <label class="form-label">Com Max Play Time</label>
            <input class="form-control mb-2" type="number" name="ComMaxPlayTime" value="@ComMaxPlayTime" />

            <label class="form-label">Family</label>
            <input class="form-control mb-2" name="Family" value="@Family" />

            <label class="form-label">Image URL</label>
            <input class="form-control mb-2" name="ImagePath" value="@ImagePath" />

            <label class="form-label">Description</label>
            <textarea class="form-control mb-3" name="Description" rows="4">@Description</textarea>

            <button type="submit" class="btn btn-primary">Save</button>
            <a href="/Views/Home/Index.cshtml" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</body>
</html>